<div class="pure-g">
    <div class="pure-u-1-8">
      <div id="menu" class="pure-menu">
        <span class="pure-menu-heading">Recipes</span>
        <ul class="pure-menu-list">
                <li class="pure-menu-item"><a href="#" class="pure-menu-link">All Recipes</a></li>
                <li class="pure-menu-item"><a href="#" class="pure-menu-link">New Recipe</a></li>
            </ul>
      </div>
    </div>

    <!-- Recipes -->
    <div class="pure-u-7-8 pure-g" ng-controller="RecipesController">
      <h1>All Recipes</h1>
      <label>Order by</label>
      <button class="pure-button" ng-click="sortOrder = 'title'" ng-class='{"pure-button-active": sortOrder == "title"}'>Title</button>
      <button class="pure-button" ng-click="sortOrder = '-rating'" ng-class='{"pure-button-active": sortOrder == "-rating"}'>Rating</button>

      <div class="pure-u-1 mt">
        <label>Show</label>
        <button class="pure-button" ng-click="showMeal = 'all'" ng-class='{"pure-button-active": showMeal == "all"}'>All</button>
        <button class="pure-button" ng-click="showMeal = 'Breakfast'" ng-class='{"pure-button-active": showMeal == "Breakfast"}'>Breakfast</button>
        <button class="pure-button" ng-click="showMeal = 'Lunch'" ng-class='{"pure-button-active": showMeal == "Lunch"}'>Lunch</button>
        <button class="pure-button" ng-click="showMeal = 'Dinner'" ng-class='{"pure-button-active": showMeal == "Dinner"}'>Dinner</button>
        <button class="pure-button" ng-click="showMeal = 'Dessert'" ng-class='{"pure-button-active": showMeal == "Dessert"}'>Dessert</button>
      </div>

      <section id="recipes">
        <div ng-repeat="recipe in recipes | orderBy:sortOrder" class="pure-u-1 pure-u-md-1-4" ng-if="showMeal == 'all' || showMeal == recipe.meal">
          <div class="recipe">
            <div class="recipe-heading">
              <a href="{{recipe.link}}"><h2>{{recipe.title}}</h2></a>
              <span ng-repeat="stars in getTimes(recipe.rating) track by $index">
                <%= image_tag "star.png", alt: "star", class: "star" %>
              </span>
              <button ng-click="editRecipe(recipe)" class="pure-button">Edit</button>
              <button ng-click="confirmDeleteRecipe(recipe)" class="pure-button">Delete</button>
            </div>
            <a href="{{recipe.link}}">
              <img class="recipe-image" ng-src="{{recipe.image_url}}" alt="{{recipe.title}}" />
            </a>
          </div>
        </div>
      </section>

      <div ng-show="recipeToDelete" class="modal-background">
        <div class="modal">
          <p>Are you sure you want to delete this recipe?</p>

          <button class="pure-button button-error" ng-click="deleteRecipe(recipeToDelete)">Confirm</button>
          <button class="pure-button button-secondary" ng-click="recipeToDelete = null">Cancel</button>
        </div>
      </div>

      <form ng-submit="addRecipe()" class="pure-form pure-form-stacked">
        <label for="title">Title</label>
        <input name="title" type="text" ng-model="newRecipeTitle" class="pure-input-1-3" />
        <label for="link">Link</label>
        <input name="link" type="text" ng-model="newRecipeLink" class="pure-input-1-3"/>
        <label for="image_url">Image URL</label>
        <input name="image_url" type="text" ng-model="newRecipeImageUrl" class="pure-input-1-3"/>
        <label for="meal">Meal</label>
        <select name="meal" ng-model="newRecipeMeal" class="pure-input-1-3">
          <option>Breakfast</option>
          <option>Lunch</option>
          <option>Dinner</option>
          <option>Dessert</option>
        </select>
        <label for="rating">Rating</label>
        <select name="rating" ng-model="newRecipeRating" class="pure-input-1-3">
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
        </select>
        <button type="submit" class="pure-button">Add</button>
      </form>
    </div>
</div>
